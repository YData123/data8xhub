clusterEdges:
{% for cluster_name, cluster in config.clusters.items() %}
- name: {{ cluster_name }}
  ip: {{ cluster.ip }}
{% endfor %}

project: {{ config.project }}
region: {{ config.region }}
deployment: {{ deployment }}
proxy:
  replicaCount: {{ config.miscCluster.outerEdge.proxy.replicaCount }}
  resources:
    requests:
      cpu: 0.25
      memory: 1Gi
    limits:
      cpu: 0.25
      memory: 1Gi

sharderBuckets: |
{% for cluster_name, cluster in config.clusters.items() %}
{% for hub_name, hub in cluster.hubs.items() %}
  {"cluster": "{{cluster_name}}", "hub": "{{hub_name}}", "ip": "{{ cluster.ip }}"}
{% endfor %}
{% endfor %}

sharder:
  replicaCount: {{ config.miscCluster.outerEdge.sharder.replicaCount }}